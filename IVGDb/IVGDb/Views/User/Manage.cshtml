@using IVGDb.Models;

@model User

@{
    ViewBag.Title = "Manage";
}

@if(User.Identity.Name.Length > 0)
{ 
    <div class="row" id="User-profile">
        <div class="col-sm-3">
            <a class="btn" data-toggle="modal" href="#ImageModal"><img src="@Html.DisplayFor(m => m.UserProfilePicLink)" id="User-img" width="200" height="200" /></a>
        </div>
        <div class="col-sm-2">
            <h3>@Html.DisplayFor(m => m.Username)</h3>
        </div>
    </div>
    
    <!-- Modal Window -->
    <div class="modal fade" id="ImageModal" tabindex="-1" role="dialog" aria-labelledby="ImageModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-body">
                    @using(Html.BeginForm("SetUserPic", "User", FormMethod.Post))
                    {
                        <label for="UesrProfilePicLink">Image URL:</label>
                        @Html.TextBoxFor(m => m.UserProfilePicLink)
                        @Html.HiddenFor(m => m.Username)
                        <input type="submit" value="Set" />
                    }
                </div>
            </div>
        </div>
    </div>
}
else
{
    <h3>You must be logged in to view this page. Please login above from the menu</h3>
}